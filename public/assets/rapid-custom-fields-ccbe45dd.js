const jt=(e,r,t)=>({route:e,fields:r,fieldTypes:t,init(){let n=this;Sortable.create(this.$refs.sortableFields,{sort:!0,draggable:".line-item",handle:".drag-icon",animation:150,onEnd:function(i){n.updateLineOrder(i.oldIndex,i.newIndex)}}),this.$watch("fields",()=>{this.save()})},addField(){this.fields.push({title:"new",key:"new",type:"text",order:this.fields.length+1,options:[]})},remove(n){Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",reverseButtons:!0,showCancelButton:!0,confirmButtonText:SweetalertOptions.confirmButtonText,confirmButtonColor:SweetalertOptions.confirmButtonColor,cancelButtonColor:SweetalertOptions.cancelButtonColor,customClass:{confirmButton:SweetalertOptions.confirmButtonClass,cancelButton:SweetalertOptions.cancelButtonClass}}).then(i=>{i.value&&this.fields.splice(n,1)})},updateLineOrder(n,i){let o=Alpine.raw(this.fields),s=o.splice(n,1)[0];o.splice(i,0,s),this.save()},save(){axios.patch(this.route,{custom_fields:this.fields}).then(n=>{console.log(n)}).catch(n=>{})}}),Et=e=>({field:{title:"Settings"},fieldTypes:e,fields:[],init(){},setup(r){this.field=r,this.field.fields===void 0&&(this.field.fields=[]),this.$refs.drawer.show(),this.$nextTick(()=>{if(this.$refs.sortableFields){let t=this;Sortable.create(this.$refs.sortableFields,{sort:!0,draggable:".line-item",handle:".drag-icon",animation:150,onEnd:function(n){t.updateLineOrder(n.oldIndex,n.newIndex)}})}})},addField(){this.field.fields.push({title:"new",key:"new",type:"text",order:this.field.fields.length+1,options:[]})},remove(r){Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",reverseButtons:!0,showCancelButton:!0,confirmButtonText:SweetalertOptions.confirmButtonText,confirmButtonColor:SweetalertOptions.confirmButtonColor,cancelButtonColor:SweetalertOptions.cancelButtonColor,customClass:{confirmButton:SweetalertOptions.confirmButtonClass,cancelButton:SweetalertOptions.cancelButtonClass}}).then(t=>{t.value&&this.field.fields.splice(r,1)})},updateLineOrder(r,t){let n=Alpine.raw(this.field.fields),i=n.splice(r,1)[0];n.splice(t,0,i)}}),It=(e=null,r=null,t="")=>({fields:e,oldFields:r,valueChanged:!1,route:t,init(){console.log(this.route),this.$watch("fields",n=>{this.fields!=e&&(this.valueChanged=!0,console.log(n))})},save(){this.valueChanged=!1,console.log(this.fields),Array.isArray(this.fields)?(console.log("array"),console.log(this.fields)):(console.log("object"),console.log(this.fields)),axios.patch(this.route,{custom_field_values:this.fields}).then(n=>{console.log(n)}).catch(n=>{})},discardChanges(){this.fields=this.oldFields,this.valueChanged=!1}}),xt=(e=null)=>({repeater:e,init(){console.log("Repeater int"),console.log(this.repeater)},addValue(r){console.log("addValue"),console.log(r),this.repeater.values===void 0&&(this.repeater.values=[]),this.repeater.values.push({value:r}),console.log(this.repeater.values)},updateValue(r,t){this.repeater.values[t].value=r},addItem(){window.dispatchEvent(new CustomEvent("open-edit-repeater-item",{detail:{callback:this.addValue.bind(this),repeater:this.repeater}}))},editItem(r){console.log(this.repeater.values[r]),window.dispatchEvent(new CustomEvent("open-edit-repeater-item",{detail:{callback:this.updateValue.bind(this),repeater:this.repeater,index:r}}))},removeItem(r){this.repeater.values.splice(r,1)}}),Tt=e=>({field:e,image:e.value!=null?e.value:{value:{value:""}},max_selected:1,has_media_library:!0,init(){this.field.value=this.field.value||null},uploadImage(){this.has_media_library?this.openMediaLibrary():this.openFileManager()},setImage(r){Array.isArray(r)&&this.max_selected===1?this.image=r[0]:this.image=r},openMediaLibrary(){window.dispatchEvent(new CustomEvent("open-medialibrary",{detail:{callback:this.setImage.bind(this),selected:this.image,max_selected:this.max_selected}}))},openFileManager(){const r=document.createElement("input");r.type="file",r.onchange=()=>{const t=r.files[0],n=new FileReader;n.onload=()=>{console.log(n.result)},t&&n.readAsDataURL(t)},r.click()},removeImage(){this.image=[]}}),Ct=(e=null)=>({field:e,init(){this.field.value.show===void 0&&(this.field.value={label:this.field.title,type:"internal",show:!1,url:null,title:null})}});var B={},Bt={get exports(){return B},set exports(e){B=e}},Ft=function(){var r=this,t=-1;return{next:function(){return t+=1,{value:r.items[t],done:t>=r.items.length}}}},Pt=function(){return this.items};function F(e){return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},F(e)}var f={isArray:function(r){return Array.isArray(r)},isObject:function(r){return F(r)==="object"&&Array.isArray(r)===!1&&r!==null},isFunction:function(r){return typeof r=="function"}},Nt=f,Dt=Nt.isFunction,dt=function(r){return r===void 0?this.sum()/this.items.length:Dt(r)?new this.constructor(this.items).sum(r)/this.items.length:new this.constructor(this.items).pluck(r).sum()/this.items.length},Mt=dt,Vt=Mt;function P(e){return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},P(e)}var Kt=function(r){var t=this,n=[],i=0;if(Array.isArray(this.items))do{var o=this.items.slice(i,i+r),s=new this.constructor(o);n.push(s),i+=r}while(i<this.items.length);else if(P(this.items)==="object"){var u=Object.keys(this.items),a=function(){var b=u.slice(i,i+r),p=new t.constructor({});b.forEach(function(l){return p.put(l,t.items[l])}),n.push(p),i+=r};do a();while(i<u.length)}else n.push(new this.constructor([this.items]));return new this.constructor(n)};function Rt(e){return Jt(e)||Ut(e)||qt(e)||Wt()}function Wt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qt(e,r){if(e){if(typeof e=="string")return N(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return N(e,r)}}function Ut(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jt(e){if(Array.isArray(e))return N(e)}function N(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Lt=function(){var r;return new this.constructor((r=[]).concat.apply(r,Rt(this.items)))};function Ht(e,r){return Xt(e)||Qt(e,r)||Yt(e,r)||Gt()}function Gt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yt(e,r){if(e){if(typeof e=="string")return z(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return z(e,r)}}function z(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Qt(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,s,u;try{for(t=t.call(e);!(i=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));i=!0);}catch(a){o=!0,u=a}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw u}}return n}}function Xt(e){if(Array.isArray(e))return e}function $(e){return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$(e)}var Zt=function(r){var t=this,n=r;n instanceof this.constructor&&(n=r.all());var i={};if(Array.isArray(this.items)&&Array.isArray(n))this.items.forEach(function(u,a){i[u]=n[a]});else if($(this.items)==="object"&&$(n)==="object")Object.keys(this.items).forEach(function(u,a){i[t.items[u]]=n[Object.keys(n)[a]]});else if(Array.isArray(this.items))i[this.items[0]]=n;else if(typeof this.items=="string"&&Array.isArray(n)){var o=n,s=Ht(o,1);i[this.items]=s[0]}else typeof this.items=="string"&&(i[this.items]=n);return new this.constructor(i)};function zt(e){return er(e)||rr(e)||tr(e)||kt()}function kt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tr(e,r){if(e){if(typeof e=="string")return D(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D(e,r)}}function rr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function er(e){if(Array.isArray(e))return D(e)}function D(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var bt=function(r){var t;if(Array.isArray(r)){var n;t=[],(n=t).push.apply(n,zt(r))}else t={},Object.keys(r).forEach(function(i){t[i]=r[i]});return t};function S(e){return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},S(e)}var nr=bt,ir=function(r){var t=r;r instanceof this.constructor?t=r.all():S(r)==="object"&&(t=[],Object.keys(r).forEach(function(i){t.push(r[i])}));var n=nr(this.items);return t.forEach(function(i){S(i)==="object"?Object.keys(i).forEach(function(o){return n.push(i[o])}):n.push(i)}),new this.constructor(n)};function k(e){return ur(e)||ar(e)||sr(e)||or()}function or(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sr(e,r){if(e){if(typeof e=="string")return M(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return M(e,r)}}function ar(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ur(e){if(Array.isArray(e))return M(e)}function M(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var m=function(r){var t=[];return Array.isArray(r)?t.push.apply(t,k(r)):r.constructor.name==="Collection"?t.push.apply(t,k(r.all())):Object.keys(r).forEach(function(n){return t.push(r[n])}),t};function cr(e){return pr(e)||hr(e)||lr(e)||fr()}function fr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lr(e,r){if(e){if(typeof e=="string")return V(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return V(e,r)}}function hr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pr(e){if(Array.isArray(e))return V(e)}function V(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var yr=m,mr=f,vr=mr.isFunction,At=function(r,t){if(t!==void 0)return Array.isArray(this.items)?this.items.filter(function(i){return i[r]!==void 0&&i[r]===t}).length>0:this.items[r]!==void 0&&this.items[r]===t;if(vr(r))return this.items.filter(function(i,o){return r(i,o)}).length>0;if(Array.isArray(this.items))return this.items.indexOf(r)!==-1;var n=yr(this.items);return n.push.apply(n,cr(Object.keys(this.items))),n.indexOf(r)!==-1},dr=function(){return this.count()===1},br=function(){var r=0;return Array.isArray(this.items)&&(r=this.items.length),Math.max(Object.keys(this.items).length,r)},Ar=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(t){return t};return new this.constructor(this.items).groupBy(r).map(function(t){return t.count()})},gr=function(){function r(o,s,u){var a=u[0];a instanceof s&&(a=a.all());for(var c=u.slice(1),b=!c.length,p=[],l=0;l<a.length;l+=1){var y=o.slice();y.push(a[l]),b?p.push(y):p=p.concat(r(y,s,c))}return p}for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return new this.constructor(r([],this.constructor,[].concat([this.items],n)))},wr=function(){this.dump(),typeof process<"u"&&process.exit(1)},Or=function(r){var t;r instanceof this.constructor?t=r.all():t=r;var n=this.items.filter(function(i){return t.indexOf(i)===-1});return new this.constructor(n)},$r=function(r){var t=this,n=r;r instanceof this.constructor&&(n=r.all());var i={};return Object.keys(this.items).forEach(function(o){(n[o]===void 0||n[o]!==t.items[o])&&(i[o]=t.items[o])}),new this.constructor(i)},Sr=function(r){var t;r instanceof this.constructor?t=r.all():t=r;var n=Object.keys(t),i=Object.keys(this.items).filter(function(o){return n.indexOf(o)===-1});return new this.constructor(this.items).only(i)},_r=function(r,t){return!this.contains(r,t)},jr=function(){return console.log(this),this};function _(e){return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_(e)}var Er=function(){var r=this,t=[],n={},i=function(s){return Array.isArray(s)||_(s)==="object"?JSON.stringify(s):s};return Array.isArray(this.items)?this.items.forEach(function(o,s){var u=i(o);t.indexOf(u)===-1?t.push(u):n[s]=o}):_(this.items)==="object"&&Object.keys(this.items).forEach(function(o){var s=i(r.items[o]);t.indexOf(s)===-1?t.push(s):n[o]=r.items[o]}),new this.constructor(n)},Ir=function(r){var t=!1;if(Array.isArray(this.items))for(var n=this.items.length,i=0;i<n&&!t;i+=1)t=r(this.items[i],i,this.items)===!1;else for(var o=Object.keys(this.items),s=o.length,u=0;u<s&&!t;u+=1){var a=o[u];t=r(this.items[a],a,this.items)===!1}return this};function xr(e){return Fr(e)||Br(e)||Cr(e)||Tr()}function Tr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cr(e,r){if(e){if(typeof e=="string")return K(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return K(e,r)}}function Br(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fr(e){if(Array.isArray(e))return K(e)}function K(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Pr=function(r){return this.each(function(t,n){r.apply(void 0,xr(t).concat([n]))}),this},Nr=m,Dr=function(r){var t=Nr(this.items);return t.every(r)},E=function(r){return Array.isArray(r[0])?r[0]:r},Mr=E,Vr=function(){for(var r=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=Mr(n);if(Array.isArray(this.items)){var s=this.items.filter(function(a){return o.indexOf(a)===-1});return new this.constructor(s)}var u={};return Object.keys(this.items).forEach(function(a){o.indexOf(a)===-1&&(u[a]=r.items[a])}),new this.constructor(u)};function R(e){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},R(e)}function gt(e){if(Array.isArray(e)){if(e.length)return!1}else if(e!=null&&R(e)==="object"){if(Object.keys(e).length)return!1}else if(e)return!1;return!0}function Kr(e,r){var t={};return Object.keys(r).forEach(function(n){e?e(r[n],n)&&(t[n]=r[n]):gt(r[n])||(t[n]=r[n])}),t}function Rr(e,r){if(e)return r.filter(e);for(var t=[],n=0;n<r.length;n+=1){var i=r[n];gt(i)||t.push(i)}return t}var Wr=function(r){var t=r||!1,n=null;return Array.isArray(this.items)?n=Rr(t,this.items):n=Kr(t,this.items),new this.constructor(n)},qr=f,I=qr.isFunction,Ur=function(r,t){if(I(r)){for(var n=Object.keys(this.items),i=0;i<n.length;i+=1){var o=n[i],s=this.items[o];if(r(s,o))return s}return I(t)?t():t}if(Array.isArray(this.items)&&this.items.length||Object.keys(this.items).length){if(Array.isArray(this.items))return this.items[0];var u=Object.keys(this.items)[0];return this.items[u]}return I(t)?t():t},Jr=f,Lr=Jr.isFunction,Hr=function(r,t,n){if(Lr(r))return this.first(r,function(){throw new Error("Item not found.")});var i=this.where(r,t,n);if(i.isEmpty())throw new Error("Item not found.");return i.first()},Gr=function(r,t,n){return this.where(r,t,n).first()||null},Yr=function(r){return this.map(r).collapse()},wt=f,x=wt.isArray,T=wt.isObject,Qr=function(r){var t=r||1/0,n=!1,i=[],o=function(u){i=[],x(u)?u.forEach(function(a){x(a)?i=i.concat(a):T(a)?Object.keys(a).forEach(function(c){i=i.concat(a[c])}):i.push(a)}):Object.keys(u).forEach(function(a){x(u[a])?i=i.concat(u[a]):T(u[a])?Object.keys(u[a]).forEach(function(c){i=i.concat(u[a][c])}):i.push(u[a])}),n=i.filter(function(a){return T(a)}),n=n.length===0,t-=1};for(o(this.items);!n&&t>0;)o(i);return new this.constructor(i)},Xr=function(){var r=this,t={};return Array.isArray(this.items)?Object.keys(this.items).forEach(function(n){t[r.items[n]]=Number(n)}):Object.keys(this.items).forEach(function(n){t[r.items[n]]=n}),new this.constructor(t)},Zr=function(r,t){var n=this,i={};return Array.isArray(this.items)?i=this.items.slice(r*t-t,r*t):Object.keys(this.items).slice(r*t-t,r*t).forEach(function(o){i[o]=n.items[o]}),new this.constructor(i)},zr=function(r){return Array.isArray(this.items)?this.items.splice(r,1):delete this.items[r],this},kr=f,te=kr.isFunction,re=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return this.items[r]!==void 0?this.items[r]:te(t)?t():t!==null?t:null},v=function(r,t){try{return t.split(".").reduce(function(n,i){return n[i]},r)}catch{return r}},C=v,ee=f,ne=ee.isFunction,ie=function(r){var t=this,n={};return this.items.forEach(function(i,o){var s;ne(r)?s=r(i,o):C(i,r)||C(i,r)===0?s=C(i,r):s="",n[s]===void 0&&(n[s]=new t.constructor([])),n[s].push(i)}),new this.constructor(n)},oe=E,se=function(){for(var r=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=oe(n);return o.filter(function(s){return Object.hasOwnProperty.call(r.items,s)}).length===o.length},ae=function(r,t){return t===void 0?this.items.join(r):new this.constructor(this.items).pluck(r).all().join(t)},ue=function(r){var t=r;r instanceof this.constructor&&(t=r.all());var n=this.items.filter(function(i){return t.indexOf(i)!==-1});return new this.constructor(n)},ce=function(r){var t=this,n=Object.keys(r);r instanceof this.constructor&&(n=Object.keys(r.all()));var i={};return Object.keys(this.items).forEach(function(o){n.indexOf(o)!==-1&&(i[o]=t.items[o])}),new this.constructor(i)},fe=function(){return Array.isArray(this.items)?!this.items.length:!Object.keys(this.items).length},le=function(){return!this.isEmpty()},he=function(r,t){var n=this.values();if(t===void 0)return n.implode(r);var i=n.count();if(i===0)return"";if(i===1)return n.last();var o=n.pop();return n.implode(r)+t+o},pe=v,ye=f,me=ye.isFunction,ve=function(r){var t={};return me(r)?this.items.forEach(function(n){t[r(n)]=n}):this.items.forEach(function(n){var i=pe(n,r);t[i||""]=n}),new this.constructor(t)},de=function(){var r=Object.keys(this.items);return Array.isArray(this.items)&&(r=r.map(Number)),new this.constructor(r)},be=f,tt=be.isFunction,Ae=function(r,t){var n=this.items;if(tt(r)&&(n=this.filter(r).all()),Array.isArray(n)&&!n.length||!Object.keys(n).length)return tt(t)?t():t;if(Array.isArray(n))return n[n.length-1];var i=Object.keys(n);return n[i[i.length-1]]},ge=function(r,t){this.constructor.prototype[r]=t},we=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return new this.constructor(r)},Oe=function(r){var t=this;if(Array.isArray(this.items))return new this.constructor(this.items.map(r));var n={};return Object.keys(this.items).forEach(function(i){n[i]=r(t.items[i],i)}),new this.constructor(n)};function $e(e){return Ee(e)||je(e)||_e(e)||Se()}function Se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _e(e,r){if(e){if(typeof e=="string")return W(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return W(e,r)}}function je(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ee(e){if(Array.isArray(e))return W(e)}function W(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Ie=function(r){return this.map(function(t,n){return r.apply(void 0,$e(t).concat([n]))})};function xe(e,r){return Fe(e)||Be(e,r)||Ce(e,r)||Te()}function Te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ce(e,r){if(e){if(typeof e=="string")return rt(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rt(e,r)}}function rt(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Be(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,s,u;try{for(t=t.call(e);!(i=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));i=!0);}catch(a){o=!0,u=a}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw u}}return n}}function Fe(e){if(Array.isArray(e))return e}var Pe=function(r){var t={};return this.items.forEach(function(n,i){var o=r(n,i),s=xe(o,2),u=s[0],a=s[1];t[u]===void 0?t[u]=[a]:t[u].push(a)}),new this.constructor(t)},Ne=function(r){return this.map(function(t,n){return new r(t,n)})};function De(e,r){return Re(e)||Ke(e,r)||Ve(e,r)||Me()}function Me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ve(e,r){if(e){if(typeof e=="string")return et(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return et(e,r)}}function et(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ke(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,s,u;try{for(t=t.call(e);!(i=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));i=!0);}catch(a){o=!0,u=a}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw u}}return n}}function Re(e){if(Array.isArray(e))return e}var We=function(r){var t={};return this.items.forEach(function(n,i){var o=r(n,i),s=De(o,2),u=s[0],a=s[1];t[u]===void 0?t[u]=[a]:t[u].push(a)}),new this.constructor(t)};function nt(e,r){return Le(e)||Je(e,r)||Ue(e,r)||qe()}function qe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ue(e,r){if(e){if(typeof e=="string")return it(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return it(e,r)}}function it(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Je(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,s,u;try{for(t=t.call(e);!(i=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));i=!0);}catch(a){o=!0,u=a}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw u}}return n}}function Le(e){if(Array.isArray(e))return e}var He=function(r){var t=this,n={};return Array.isArray(this.items)?this.items.forEach(function(i,o){var s=r(i,o),u=nt(s,2),a=u[0],c=u[1];n[a]=c}):Object.keys(this.items).forEach(function(i){var o=r(t.items[i],i),s=nt(o,2),u=s[0],a=s[1];n[u]=a}),new this.constructor(n)};function ot(e){return Xe(e)||Qe(e)||Ye(e)||Ge()}function Ge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ye(e,r){if(e){if(typeof e=="string")return q(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return q(e,r)}}function Qe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xe(e){if(Array.isArray(e))return q(e)}function q(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Ze=function(r){if(typeof r=="string"){var t=this.items.filter(function(n){return n[r]!==void 0});return Math.max.apply(Math,ot(t.map(function(n){return n[r]})))}return Math.max.apply(Math,ot(this.items))},ze=function(r){var t=this.items.length;return r===void 0?t%2===0?(this.items[t/2-1]+this.items[t/2])/2:this.items[Math.floor(t/2)]:t%2===0?(this.items[t/2-1][r]+this.items[t/2][r])/2:this.items[Math.floor(t/2)][r]},ke=function(r){var t=r;if(typeof t=="string"&&(t=[t]),Array.isArray(this.items)&&Array.isArray(t))return new this.constructor(this.items.concat(t));var n=JSON.parse(JSON.stringify(this.items));return Object.keys(t).forEach(function(i){n[i]=t[i]}),new this.constructor(n)};function j(e){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},j(e)}function st(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function at(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?st(Object(t),!0).forEach(function(n){tn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):st(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function tn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var rn=function(r){var t=function n(i,o){var s={},u=Object.keys(at(at({},i),o));return u.forEach(function(a){i[a]===void 0&&o[a]!==void 0?s[a]=o[a]:i[a]!==void 0&&o[a]===void 0?s[a]=i[a]:i[a]!==void 0&&o[a]!==void 0&&(i[a]===o[a]?s[a]=i[a]:!Array.isArray(i[a])&&j(i[a])==="object"&&!Array.isArray(o[a])&&j(o[a])==="object"?s[a]=n(i[a],o[a]):s[a]=[].concat(i[a],o[a]))}),s};return r?r.constructor.name==="Collection"?new this.constructor(t(this.items,r.all())):new this.constructor(t(this.items,r)):this};function ut(e){return sn(e)||on(e)||nn(e)||en()}function en(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nn(e,r){if(e){if(typeof e=="string")return U(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return U(e,r)}}function on(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sn(e){if(Array.isArray(e))return U(e)}function U(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var an=function(r){if(r!==void 0){var t=this.items.filter(function(n){return n[r]!==void 0});return Math.min.apply(Math,ut(t.map(function(n){return n[r]})))}return Math.min.apply(Math,ut(this.items))},un=function(r){var t=[],n=1;return this.items.length?(this.items.forEach(function(i){var o=t.filter(function(u){return r!==void 0?u.key===i[r]:u.key===i});if(!o.length)r!==void 0?t.push({key:i[r],count:1}):t.push({key:i,count:1});else{o[0].count+=1;var s=o[0].count;s>n&&(n=s)}}),t.filter(function(i){return i.count===n}).map(function(i){return i.key})):null},cn=m,fn=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=cn(this.items),i=n.slice(t).filter(function(o,s){return s%r===0});return new this.constructor(i)},ln=E,hn=function(){for(var r=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=ln(n);if(Array.isArray(this.items)){var s=this.items.filter(function(a){return o.indexOf(a)!==-1});return new this.constructor(s)}var u={};return Object.keys(this.items).forEach(function(a){o.indexOf(a)!==-1&&(u[a]=r.items[a])}),new this.constructor(u)},pn=bt,yn=function(r,t){var n=Math.abs(r),i=this.count();if(n<=i)return this;for(var o=n-i,s=pn(this.items),u=Array.isArray(this.items),a=r<0,c=0;c<o;)u?a?s.unshift(t):s.push(t):s[c]!==void 0?o+=1:s[c]=t,c+=1;return new this.constructor(s)},mn=function(r){var t=this,n;return Array.isArray(this.items)?(n=[new this.constructor([]),new this.constructor([])],this.items.forEach(function(i){r(i)===!0?n[0].push(i):n[1].push(i)})):(n=[new this.constructor({}),new this.constructor({})],Object.keys(this.items).forEach(function(i){var o=t.items[i];r(o)===!0?n[0].put(i,o):n[1].put(i,o)})),new this.constructor(n)},vn=function(r){return r(this)},Ot=f,dn=Ot.isArray,bn=Ot.isObject,w=v,An=function(r){var t={};return r.forEach(function(n,i){function o(s,u){bn(s)?Object.keys(s).forEach(function(a){o(s[a],"".concat(u,".").concat(a))}):dn(s)&&s.forEach(function(a,c){o(a,"".concat(u,".").concat(c))}),t[u]=s}o(n,i)}),t},gn=function(r,t){if(r.indexOf("*")!==-1){var n=An(this.items),i=[];if(t!==void 0){var o=new RegExp("0.".concat(t),"g"),s="0.".concat(t).split(".").length;Object.keys(n).forEach(function(l){var y=l.match(o);if(y){var g=y[0];g.split(".").length===s&&i.push(n[g])}})}var u=[],a=new RegExp("0.".concat(r),"g"),c="0.".concat(r).split(".").length;if(Object.keys(n).forEach(function(l){var y=l.match(a);if(y){var g=y[0];g.split(".").length===c&&u.push(n[g])}}),t!==void 0){var b={};return this.items.forEach(function(l,y){b[i[y]||""]=u}),new this.constructor(b)}return new this.constructor([u])}if(t!==void 0){var p={};return this.items.forEach(function(l){w(l,r)!==void 0?p[l[t]||""]=w(l,r):p[l[t]||""]=null}),new this.constructor(p)}return this.map(function(l){return w(l,r)!==void 0?w(l,r):null})},wn=E,$t=function(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];wn(n).forEach(function(o){delete r[o]})},St=f,On=St.isArray,$n=St.isObject,ct=$t,Sn=function(){var r=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(this.isEmpty())return null;if(On(this.items))return t===1?this.items.pop():new this.constructor(this.items.splice(-t));if($n(this.items)){var n=Object.keys(this.items);if(t===1){var i=n[n.length-1],o=this.items[i];return ct(this.items,i),o}var s=n.slice(-t),u=s.reduce(function(a,c){return a[c]=r.items[c],a},{});return ct(this.items,s),new this.constructor(u)}return null},_n=function(r,t){return t!==void 0?this.put(t,r):(this.items.unshift(r),this)},jn=f,En=jn.isFunction,In=function(r,t){var n=this.items[r]||null;return!n&&t!==void 0&&(En(t)?n=t():n=t),delete this.items[r],n},xn=function(){var r;return(r=this.items).push.apply(r,arguments),this},Tn=function(r,t){return this.items[r]=t,this},Cn=m,Bn=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=Cn(this.items),n=new this.constructor(t).shuffle();return r!==parseInt(r,10)?n.first():n.take(r)},Fn=function(r,t){var n=this,i=null;return t!==void 0&&(i=t),Array.isArray(this.items)?this.items.forEach(function(o){i=r(i,o)}):Object.keys(this.items).forEach(function(o){i=r(i,n.items[o],o)}),i},Pn=function(r){return new this.constructor(this.items).filter(function(t){return!r(t)})};function ft(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function O(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ft(Object(t),!0).forEach(function(n){Nn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ft(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Nn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Dn=function(r){if(!r)return this;if(Array.isArray(r)){var t=this.items.map(function(o,s){return r[s]||o});return new this.constructor(t)}if(r.constructor.name==="Collection"){var n=O(O({},this.items),r.all());return new this.constructor(n)}var i=O(O({},this.items),r);return new this.constructor(i)};function d(e){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},d(e)}function lt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function A(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?lt(Object(t),!0).forEach(function(n){Mn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):lt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Mn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Vn=function(r){var t=function n(i,o){var s=A({},i),u=Object.keys(A(A({},i),o));return u.forEach(function(a){!Array.isArray(o[a])&&d(o[a])==="object"?s[a]=n(i[a],o[a]):i[a]===void 0&&o[a]!==void 0?d(i[a])==="object"?s[a]=A({},o[a]):s[a]=o[a]:i[a]!==void 0&&o[a]===void 0?d(i[a])==="object"?s[a]=A({},i[a]):s[a]=i[a]:i[a]!==void 0&&o[a]!==void 0&&(d(o[a])==="object"?s[a]=A({},o[a]):s[a]=o[a])}),s};return r?!Array.isArray(r)&&d(r)!=="object"?new this.constructor(t(this.items,[r])):r.constructor.name==="Collection"?new this.constructor(t(this.items,r.all())):new this.constructor(t(this.items,r)):this},Kn=function(){var r=[].concat(this.items).reverse();return new this.constructor(r)},G=f,Rn=G.isArray,Wn=G.isObject,qn=G.isFunction,Un=function(r,t){var n=this,i,o=function(u,a){return qn(r)?r(n.items[a],a):t?n.items[a]===r:n.items[a]==r};return Rn(this.items)?i=this.items.findIndex(o):Wn(this.items)&&(i=Object.keys(this.items).find(function(s){return o(n.items[s],s)})),i===void 0||i<0?!1:i},_t=f,Jn=_t.isArray,Ln=_t.isObject,Hn=$t,Gn=function(){var r=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(this.isEmpty())return null;if(Jn(this.items))return t===1?this.items.shift():new this.constructor(this.items.splice(0,t));if(Ln(this.items)){if(t===1){var n=Object.keys(this.items)[0],i=this.items[n];return delete this.items[n],i}var o=Object.keys(this.items),s=o.slice(0,t),u=s.reduce(function(a,c){return a[c]=r.items[c],a},{});return Hn(this.items,s),new this.constructor(u)}return null},Yn=m,Qn=function(){var r=Yn(this.items),t,n,i;for(i=r.length;i;i-=1)t=Math.floor(Math.random()*i),n=r[i-1],r[i-1]=r[t],r[t]=n;return this.items=r,this},Xn=f,Zn=Xn.isObject,zn=function(r){var t=this;return Zn(this.items)?new this.constructor(Object.keys(this.items).reduce(function(n,i,o){return o+1>r&&(n[i]=t.items[i]),n},{})):new this.constructor(this.items.slice(r))},Y=f,kn=Y.isArray,ti=Y.isObject,ri=Y.isFunction,ei=function(r){var t=this,n=null,i,o=function(u){return u===r};return ri(r)&&(o=r),kn(this.items)&&(i=this.items.filter(function(s){return n!==!0&&(n=o(s)),n})),ti(this.items)&&(i=Object.keys(this.items).reduce(function(s,u){return n!==!0&&(n=o(t.items[u])),n!==!1&&(s[u]=t.items[u]),s},{})),new this.constructor(i)},Q=f,ni=Q.isArray,ii=Q.isObject,oi=Q.isFunction,si=function(r){var t=this,n=null,i,o=function(u){return u===r};return oi(r)&&(o=r),ni(this.items)&&(i=this.items.filter(function(s){return n!==!0&&(n=!o(s)),n})),ii(this.items)&&(i=Object.keys(this.items).reduce(function(s,u){return n!==!0&&(n=!o(t.items[u])),n!==!1&&(s[u]=t.items[u]),s},{})),new this.constructor(i)},ai=function(r,t){var n=this.items.slice(r);return t!==void 0&&(n=n.slice(0,t)),new this.constructor(n)},ui=f,ci=ui.isFunction,fi=function(r,t,n){var i;if(ci(r)?i=this.filter(r):i=this.where(r,t,n),i.isEmpty())throw new Error("Item not found.");if(i.count()>1)throw new Error("Multiple items found.");return i.first()},li=At,hi=li,pi=function(r){var t=[].concat(this.items);return r===void 0?this.every(function(n){return typeof n=="number"})?t.sort(function(n,i){return n-i}):t.sort():t.sort(r),new this.constructor(t)},yi=function(){return this.sort().reverse()},mi=v,vi=f,di=vi.isFunction,bi=function(r){var t=[].concat(this.items),n=function(o){return di(r)?r(o):mi(o,r)};return t.sort(function(i,o){var s=n(i),u=n(o);return s==null?1:u==null||s<u?-1:s>u?1:0}),new this.constructor(t)},Ai=function(r){return this.sortBy(r).reverse()},gi=function(){var r=this,t={};return Object.keys(this.items).sort().forEach(function(n){t[n]=r.items[n]}),new this.constructor(t)},wi=function(){var r=this,t={};return Object.keys(this.items).sort().reverse().forEach(function(n){t[n]=r.items[n]}),new this.constructor(t)},Oi=function(r,t,n){var i=this.slice(r,t);if(this.items=this.diff(i.all()).all(),Array.isArray(n))for(var o=0,s=n.length;o<s;o+=1)this.items.splice(r+o,0,n[o]);return i},$i=function(r){for(var t=Math.round(this.items.length/r),n=JSON.parse(JSON.stringify(this.items)),i=[],o=0;o<r;o+=1)i.push(new this.constructor(n.splice(0,t)));return new this.constructor(i)},Si=m,_i=f,ji=_i.isFunction,Ei=function(r){var t=Si(this.items),n=0;if(r===void 0)for(var i=0,o=t.length;i<o;i+=1)n+=parseFloat(t[i]);else if(ji(r))for(var s=0,u=t.length;s<u;s+=1)n+=parseFloat(r(t[s]));else for(var a=0,c=t.length;a<c;a+=1)n+=parseFloat(t[a][r]);return parseFloat(n.toPrecision(12))};function J(e){return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},J(e)}var Ii=function(r){var t=this;if(!Array.isArray(this.items)&&J(this.items)==="object"){var n=Object.keys(this.items),i;r<0?i=n.slice(r):i=n.slice(0,r);var o={};return n.forEach(function(s){i.indexOf(s)!==-1&&(o[s]=t.items[s])}),new this.constructor(o)}return r<0?new this.constructor(this.items.slice(r)):new this.constructor(this.items.slice(0,r))},X=f,xi=X.isArray,Ti=X.isObject,Ci=X.isFunction,Bi=function(r){var t=this,n=null,i,o=function(u){return u===r};return Ci(r)&&(o=r),xi(this.items)&&(i=this.items.filter(function(s){return n!==!1&&(n=!o(s)),n})),Ti(this.items)&&(i=Object.keys(this.items).reduce(function(s,u){return n!==!1&&(n=!o(t.items[u])),n!==!1&&(s[u]=t.items[u]),s},{})),new this.constructor(i)},Z=f,Fi=Z.isArray,Pi=Z.isObject,Ni=Z.isFunction,Di=function(r){var t=this,n=null,i,o=function(u){return u===r};return Ni(r)&&(o=r),Fi(this.items)&&(i=this.items.filter(function(s){return n!==!1&&(n=o(s)),n})),Pi(this.items)&&(i=Object.keys(this.items).reduce(function(s,u){return n!==!1&&(n=o(t.items[u])),n!==!1&&(s[u]=t.items[u]),s},{})),new this.constructor(i)},Mi=function(r){return r(this),this},Vi=function(r,t){for(var n=1;n<=r;n+=1)this.items.push(t(n));return this},Ki=function(){var r=this.constructor;function t(i,o){var s=[];i instanceof r?(i.items.forEach(function(u){return t(u,s)}),o.push(s)):Array.isArray(i)?(i.forEach(function(u){return t(u,s)}),o.push(s)):o.push(i)}if(Array.isArray(this.items)){var n=[];return this.items.forEach(function(i){t(i,n)}),n}return this.values().all()};function L(e){return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},L(e)}var Ri=function(){return L(this.items)==="object"&&!Array.isArray(this.items)?JSON.stringify(this.all()):JSON.stringify(this.toArray())},Wi=function(r){var t=this;if(Array.isArray(this.items))this.items=this.items.map(r);else{var n={};Object.keys(this.items).forEach(function(i){n[i]=r(t.items[i],i)}),this.items=n}return this};function ht(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function pt(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ht(Object(t),!0).forEach(function(n){qi(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ht(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function qi(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ui=function(){var r=this;if(Array.isArray(this.items))return this;var t={};return Object.keys(this.items).forEach(function(n){if(n.indexOf(".")!==-1){var i=t;n.split(".").reduce(function(o,s,u,a){return o[s]||(o[s]={}),u===a.length-1&&(o[s]=r.items[n]),o[s]},i),t=pt(pt({},t),i)}else t[n]=r.items[n]}),new this.constructor(t)},Ji=function(r,t,n){r?n(this):t(this)},yt=function(r,t){if(Array.isArray(this.items)&&this.items.length)return r(this);if(Object.keys(this.items).length)return r(this);if(t!==void 0){if(Array.isArray(this.items)&&!this.items.length)return t(this);if(!Object.keys(this.items).length)return t(this)}return this},mt=function(r,t){if(Array.isArray(this.items)&&!this.items.length)return r(this);if(!Object.keys(this.items).length)return r(this);if(t!==void 0){if(Array.isArray(this.items)&&this.items.length)return t(this);if(Object.keys(this.items).length)return t(this)}return this},Li=function(r){var t=this,n=JSON.parse(JSON.stringify(this.items));return Object.keys(r).forEach(function(i){t.items[i]===void 0&&(n[i]=r[i])}),new this.constructor(n)},Hi=f,Gi=Hi.isFunction,Yi=function(r){var t;if(r===void 0)t=this.items.filter(function(u,a,c){return c.indexOf(u)===a});else{t=[];for(var n=[],i=0,o=this.items.length;i<o;i+=1){var s=void 0;Gi(r)?s=r(this.items[i]):s=this.items[i][r],n.indexOf(s)===-1&&(t.push(this.items[i]),n.push(s))}}return new this.constructor(t)},Qi=function(r){return r instanceof this.constructor?r.all():r},Xi=m,Zi=function(){return new this.constructor(Xi(this.items))},zi=function(r,t,n){return r?t(this,r):n?n(this,r):this},ki=m,h=v,to=function(r,t,n){var i=t,o=n,s=ki(this.items);if(t===void 0||t===!0)return new this.constructor(s.filter(function(a){return h(a,r)}));if(t===!1)return new this.constructor(s.filter(function(a){return!h(a,r)}));n===void 0&&(o=t,i="===");var u=s.filter(function(a){switch(i){case"==":return h(a,r)===Number(o)||h(a,r)===o.toString();default:case"===":return h(a,r)===o;case"!=":case"<>":return h(a,r)!==Number(o)&&h(a,r)!==o.toString();case"!==":return h(a,r)!==o;case"<":return h(a,r)<o;case"<=":return h(a,r)<=o;case">":return h(a,r)>o;case">=":return h(a,r)>=o}});return new this.constructor(u)},ro=function(r,t){return this.where(r,">=",t[0]).where(r,"<=",t[t.length-1])},eo=m,no=v,io=function(r,t){var n=eo(t),i=this.items.filter(function(o){return n.indexOf(no(o,r))!==-1});return new this.constructor(i)},oo=function(r){return this.filter(function(t){return t instanceof r})},vt=v,so=function(r,t){return this.filter(function(n){return vt(n,r)<t[0]||vt(n,r)>t[t.length-1]})},ao=m,uo=v,co=function(r,t){var n=ao(t),i=this.items.filter(function(o){return n.indexOf(uo(o,r))===-1});return new this.constructor(i)},fo=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.where(r,"===",null)},lo=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.where(r,"!==",null)};function H(e){return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},H(e)}var ho=function(r){return r instanceof this.constructor?r:H(r)==="object"?new this.constructor(r):new this.constructor([r])},po=function(r){var t=this,n=r;n instanceof this.constructor&&(n=n.all());var i=this.items.map(function(o,s){return new t.constructor([o,n[s]])});return new this.constructor(i)};(function(e){function r(o){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},r(o)}function t(o){o!==void 0&&!Array.isArray(o)&&r(o)!=="object"?this.items=[o]:o instanceof this.constructor?this.items=o.all():this.items=o||[]}var n=Ft;typeof Symbol<"u"&&(t.prototype[Symbol.iterator]=n),t.prototype.toJSON=function(){return this.items},t.prototype.all=Pt,t.prototype.average=dt,t.prototype.avg=Vt,t.prototype.chunk=Kt,t.prototype.collapse=Lt,t.prototype.combine=Zt,t.prototype.concat=ir,t.prototype.contains=At,t.prototype.containsOneItem=dr,t.prototype.count=br,t.prototype.countBy=Ar,t.prototype.crossJoin=gr,t.prototype.dd=wr,t.prototype.diff=Or,t.prototype.diffAssoc=$r,t.prototype.diffKeys=Sr,t.prototype.doesntContain=_r,t.prototype.dump=jr,t.prototype.duplicates=Er,t.prototype.each=Ir,t.prototype.eachSpread=Pr,t.prototype.every=Dr,t.prototype.except=Vr,t.prototype.filter=Wr,t.prototype.first=Ur,t.prototype.firstOrFail=Hr,t.prototype.firstWhere=Gr,t.prototype.flatMap=Yr,t.prototype.flatten=Qr,t.prototype.flip=Xr,t.prototype.forPage=Zr,t.prototype.forget=zr,t.prototype.get=re,t.prototype.groupBy=ie,t.prototype.has=se,t.prototype.implode=ae,t.prototype.intersect=ue,t.prototype.intersectByKeys=ce,t.prototype.isEmpty=fe,t.prototype.isNotEmpty=le,t.prototype.join=he,t.prototype.keyBy=ve,t.prototype.keys=de,t.prototype.last=Ae,t.prototype.macro=ge,t.prototype.make=we,t.prototype.map=Oe,t.prototype.mapSpread=Ie,t.prototype.mapToDictionary=Pe,t.prototype.mapInto=Ne,t.prototype.mapToGroups=We,t.prototype.mapWithKeys=He,t.prototype.max=Ze,t.prototype.median=ze,t.prototype.merge=ke,t.prototype.mergeRecursive=rn,t.prototype.min=an,t.prototype.mode=un,t.prototype.nth=fn,t.prototype.only=hn,t.prototype.pad=yn,t.prototype.partition=mn,t.prototype.pipe=vn,t.prototype.pluck=gn,t.prototype.pop=Sn,t.prototype.prepend=_n,t.prototype.pull=In,t.prototype.push=xn,t.prototype.put=Tn,t.prototype.random=Bn,t.prototype.reduce=Fn,t.prototype.reject=Pn,t.prototype.replace=Dn,t.prototype.replaceRecursive=Vn,t.prototype.reverse=Kn,t.prototype.search=Un,t.prototype.shift=Gn,t.prototype.shuffle=Qn,t.prototype.skip=zn,t.prototype.skipUntil=ei,t.prototype.skipWhile=si,t.prototype.slice=ai,t.prototype.sole=fi,t.prototype.some=hi,t.prototype.sort=pi,t.prototype.sortDesc=yi,t.prototype.sortBy=bi,t.prototype.sortByDesc=Ai,t.prototype.sortKeys=gi,t.prototype.sortKeysDesc=wi,t.prototype.splice=Oi,t.prototype.split=$i,t.prototype.sum=Ei,t.prototype.take=Ii,t.prototype.takeUntil=Bi,t.prototype.takeWhile=Di,t.prototype.tap=Mi,t.prototype.times=Vi,t.prototype.toArray=Ki,t.prototype.toJson=Ri,t.prototype.transform=Wi,t.prototype.undot=Ui,t.prototype.unless=Ji,t.prototype.unlessEmpty=yt,t.prototype.unlessNotEmpty=mt,t.prototype.union=Li,t.prototype.unique=Yi,t.prototype.unwrap=Qi,t.prototype.values=Zi,t.prototype.when=zi,t.prototype.whenEmpty=mt,t.prototype.whenNotEmpty=yt,t.prototype.where=to,t.prototype.whereBetween=ro,t.prototype.whereIn=io,t.prototype.whereInstanceOf=oo,t.prototype.whereNotBetween=so,t.prototype.whereNotIn=co,t.prototype.whereNull=fo,t.prototype.whereNotNull=lo,t.prototype.wrap=ho,t.prototype.zip=po;var i=function(s){return new t(s)};e.exports=i,e.exports.collect=i,e.exports.default=i,e.exports.Collection=t})(Bt);const yo=B,mo=e=>({field:{title:"Add Item"},fieldTypes:e,detail:[],index:0,values:{},init(){},setup(r){console.log(r),typeof r.callback=="function"&&(this.detail=r),this.field=r.repeater,r.index?(this.index=r.index,this.values=this.field.values[this.index].value,this.field.fields.forEach(t=>{t.value=this.values[t.key]})):this.field.fields.forEach(t=>{t.value=""}),this.$refs.drawer.show()},updateRepeaterValue(){console.log(this.field.fields);let r=yo(this.field.fields).keyBy(t=>t.key).map(t=>t.value);console.log(r),this.detail.callback(r.items,this.index),this.detail=[],this.field={title:"Add Item"},this.index=0,this.values={}}});Alpine.data("RenderCustomFields",jt);Alpine.data("EditFieldSettings",Et);Alpine.data("RenderFieldValues",It);Alpine.data("FieldInputRepeater",xt);Alpine.data("FieldInputImage",Tt);Alpine.data("FieldInputLink",Ct);Alpine.data("EditRepeaterItem",mo);Alpine.magic("clipboard",()=>e=>navigator.clipboard.writeText(e));Alpine.directive("rapid-slug",(e,{expression:r},{evaluateLater:t,effect:n})=>{let i=t(r);n(()=>{i(o=>{e.value=slugify(o,{lower:!0,replacement:"_"})})})});
